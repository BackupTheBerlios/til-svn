# @configure_input@

if $(UNIX) {
	TOP = "@top_srcdir@" ;
	PREFPLUGIN = lib ;
	if $(OS) != MACOSX {
		SUFSHLIB = .so ;
		SHLIBLINKFLAGS = -shared ;
	} else {
		SUFSHLIB = .dylib ;
		SHLIBLINKFLAGS = -dynamiclib ;
	}
} else if $(MINGW) {
	SLASH = \\ ;
	MV              = move /y ;
	CP              = copy ;
	RM              = del /f/q ;
	RMDIR           = rmdir /s/q ;
	TOP = "@win_top_srcdir@" ;
	PREFPLUGIN = lib ;
	SUFSHLIB = .dll ;
	SHLIBLINKFLAGS = -shared ;
}

CCFLAGS += -Wall -std=c99 -pedantic @CFLAGS@ @CPPFLAGS@ ;
GLIBCFLAGS = @GLIB_CFLAGS@ ;
GLIBLINKLIBS = @GLIB_LIBS@ ;
CUNITLINKLIBS = -lcunit ;
CURSESLINKLIBS = -lncurses ;
TILHDRS = $(TOP)$(SLASH)til$(SLASH)include ;
TILINTHDRS = $(TOP)$(SLASH)til ;


SubDir TOP ;

SubInclude TOP til ;
SubInclude TOP plugins ;

if @UNITTESTS_ENABLE@ = yes {
	UNITTESTS_CURSES = @UNITTESTS_CURSES@ ;
	SubInclude TOP tests ;
}
